{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport * as api from '../../utils/authApi';\nimport { // SystemActionTypes,\nSIGN_IN_REQUEST, SIGN_IN_SUCCESS, SIGN_IN_FAIL, SIGN_OUT, SAVE_SESSION } from './types';\nexport var signIn = function signIn(credentials) {\n  return function (dispatch) {\n    dispatch({\n      type: SIGN_IN_REQUEST\n    });\n    api.signIn(credentials).then(function (response) {\n      dispatch({\n        type: SIGN_IN_SUCCESS,\n        payload: response\n      });\n      dispatch({\n        type: SAVE_SESSION\n      });\n    }, function (error) {\n      return dispatch({\n        type: SIGN_IN_FAIL,\n        payload: error\n      });\n    });\n  };\n};\nexport var signOut = function signOut() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.signOut();\n\n              case 2:\n                dispatch({\n                  type: SIGN_OUT\n                });\n                dispatch({\n                  type: SAVE_SESSION\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["E:\\برنامه نویسی\\Task Manager\\Front\\TaskManager-React-Typescript\\src\\redux\\actions\\auth.ts"],"names":["api","SIGN_IN_REQUEST","SIGN_IN_SUCCESS","SIGN_IN_FAIL","SIGN_OUT","SAVE_SESSION","signIn","credentials","dispatch","type","then","response","payload","error","signOut"],"mappings":";;AAGA,OAAO,KAAKA,GAAZ,MAAqB,qBAArB;AACA,SAEE;AACAC,eAHF,EAIEC,eAJF,EAKEC,YALF,EAMEC,QANF,EAOEC,YAPF,QAQO,SARP;AAUA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,WAAD;AAAA,SAA2F,UAAAC,QAAQ,EAAI;AAC3HA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAR;AAEAD,IAAAA,GAAG,CAACM,MAAJ,CAAWC,WAAX,EAAwBG,IAAxB,CACE,UAAAC,QAAQ,EAAI;AACVH,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEP,eAAR;AAAyBU,QAAAA,OAAO,EAAED;AAAlC,OAAD,CAAR;AACAH,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEJ;AAAR,OAAD,CAAR;AACD,KAJH,EAKE,UAAAQ,KAAK;AAAA,aAAIL,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEN,YAAR;AAAsBS,QAAAA,OAAO,EAAEC;AAA/B,OAAD,CAAZ;AAAA,KALP;AAOD,GAVqB;AAAA,CAAf;AAYP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAyD,iBAAMN,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACxER,GAAG,CAACc,OAAJ,EADwE;;AAAA;AAE9EN,gBAAAA,QAAQ,CAAC;AAAEC,kBAAAA,IAAI,EAAEL;AAAR,iBAAD,CAAR;AACAI,gBAAAA,QAAQ,CAAC;AAAEC,kBAAAA,IAAI,EAAEJ;AAAR,iBAAD,CAAR;;AAH8E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAzD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB","sourcesContent":["import { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport { AppState } from '../reducers';\nimport * as api from '../../utils/authApi';\nimport {\n  ISystemState,\n  // SystemActionTypes,\n  SIGN_IN_REQUEST,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_FAIL,\n  SIGN_OUT,\n  SAVE_SESSION,\n} from './types';\n\nexport const signIn = (credentials: ISystemState['admin']): ThunkAction<void, AppState, null, Action<string>> => dispatch => {\n  dispatch({ type: SIGN_IN_REQUEST });\n\n  api.signIn(credentials).then(\n    response => {\n      dispatch({ type: SIGN_IN_SUCCESS, payload: response });\n      dispatch({ type: SAVE_SESSION });\n    },\n    error => dispatch({ type: SIGN_IN_FAIL, payload: error }),\n  );\n};\n\nexport const signOut = (): ThunkAction<void, AppState, null, Action<string>> => async dispatch => {\n  await api.signOut();\n  dispatch({ type: SIGN_OUT });\n  dispatch({ type: SAVE_SESSION });\n};\n"]},"metadata":{},"sourceType":"module"}