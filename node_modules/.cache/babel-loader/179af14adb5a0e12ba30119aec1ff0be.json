{"ast":null,"code":"import _classCallCheck from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\\\u0628\\u0631\\u0646\\u0627\\u0645\\u0647 \\u0646\\u0648\\u06CC\\u0633\\u06CC\\\\Task Manager\\\\Front\\\\TaskManager-React-Typescript\\\\src\\\\components\\\\SortManager\\\\index.tsx\";\n// Core\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'; // Components\n\nimport Button from '../shared/Button'; // Instruments\n\nimport { fetchSortedTasks } from '../../redux/actions/tasks';\nvar styles = {\n  btnGroup: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    minWidth: 300\n  }\n};\nvar sortParams = [{\n  sortField: 'id',\n  sortDirection: {\n    asc: 'asc',\n    desc: 'desc'\n  }\n}, {\n  sortField: 'username',\n  sortDirection: {\n    asc: 'asc',\n    desc: 'desc'\n  }\n}, {\n  sortField: 'email',\n  sortDirection: {\n    asc: 'asc',\n    desc: 'desc'\n  }\n}, {\n  sortField: 'status',\n  sortDirection: {\n    asc: 'asc',\n    desc: 'desc'\n  }\n}];\nexport var SortManager =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SortManager, _Component);\n\n  function SortManager() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SortManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SortManager)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleFetchSortedTasks = function (sortField, sortDirection) {\n      var _this$props = _this.props,\n          currentPage = _this$props.currentPage,\n          currentSortField = _this$props.currentSortField,\n          currentSortDirection = _this$props.currentSortDirection;\n      var changedSortDirection = currentSortDirection === 'asc' ? sortDirection.desc : sortDirection.asc;\n      var fetchTasks = currentSortField !== sortField ? _this.props.fetchSortedTasks({\n        currentPage: currentPage,\n        sortField: sortField,\n        sortDirection: sortDirection.asc\n      }) : _this.props.fetchSortedTasks({\n        currentPage: currentPage,\n        sortField: currentSortField,\n        sortDirection: changedSortDirection\n      });\n      return fetchTasks;\n    };\n\n    return _this;\n  }\n\n  _createClass(SortManager, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          currentSortField = _this$props2.currentSortField,\n          currentSortDirection = _this$props2.currentSortDirection;\n      var sortButtonsJSX = sortParams.map(function (sortParam) {\n        var sortField = sortParam.sortField,\n            sortDirection = sortParam.sortDirection;\n        var renderSortDirection = sortField === currentSortField ? currentSortDirection : '';\n        return React.createElement(Button, {\n          key: sortField,\n          isOrangeBgColor: true,\n          active: sortField === currentSortField,\n          onClick: function onClick() {\n            return _this2.handleFetchSortedTasks(sortField, sortDirection);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Sort by \".concat(sortField, \" \").concat(renderSortDirection));\n      });\n      return React.createElement(\"div\", {\n        style: styles.btnGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, sortButtonsJSX);\n    }\n  }]);\n\n  return SortManager;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentPage: state.pager.currentPage,\n    currentSortField: state.sort.sortField,\n    currentSortDirection: state.sort.sortDirection\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchSortedTasks: fetchSortedTasks\n})(SortManager);","map":{"version":3,"sources":["E:\\برنامه نویسی\\Task Manager\\Front\\TaskManager-React-Typescript\\src\\components\\SortManager\\index.tsx"],"names":["React","Component","connect","Button","fetchSortedTasks","styles","btnGroup","display","justifyContent","minWidth","sortParams","sortField","sortDirection","asc","desc","SortManager","handleFetchSortedTasks","props","currentPage","currentSortField","currentSortDirection","changedSortDirection","fetchTasks","sortButtonsJSX","map","sortParam","renderSortDirection","mapStateToProps","state","pager","sort"],"mappings":"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","sourcesContent":["// Core\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// Components\nimport Button from '../shared/Button';\n// Instruments\nimport ISort from '../../interfaces/Sort.interface';\nimport { AppState } from '../../redux/reducers';\nimport { ISortState, IPagerState } from '../../redux/actions/types';\nimport { fetchSortedTasks } from '../../redux/actions/tasks';\n\ninterface SortProps {\n  currentPage: IPagerState['currentPage'];\n  currentSortField: ISortState['sortField'];\n  currentSortDirection: ISortState['sortDirection'];\n  fetchSortedTasks: ({\n    currentPage,\n    sortField,\n    sortDirection,\n  }: ISort) => void;\n}\n\nconst styles = {\n  btnGroup: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    minWidth: 300,\n  },\n};\n\nconst sortParams = [\n  { sortField: 'id', sortDirection: { asc: 'asc', desc: 'desc' } },\n  {\n    sortField: 'username',\n    sortDirection: { asc: 'asc', desc: 'desc' },\n  },\n  { sortField: 'email', sortDirection: { asc: 'asc', desc: 'desc' } },\n  { sortField: 'status', sortDirection: { asc: 'asc', desc: 'desc' } },\n];\n\nexport class SortManager extends Component<SortProps> {\n  handleFetchSortedTasks = (\n    sortField: string,\n    sortDirection: { asc: string; desc: string },\n  ) => {\n    const {\n      currentPage,\n      currentSortField,\n      currentSortDirection,\n    } = this.props;\n\n    const changedSortDirection =\n      currentSortDirection === 'asc' ? sortDirection.desc : sortDirection.asc;\n\n    const fetchTasks =\n      currentSortField !== sortField\n        ? this.props.fetchSortedTasks({\n            currentPage,\n            sortField,\n            sortDirection: sortDirection.asc,\n          })\n        : this.props.fetchSortedTasks({\n            currentPage,\n            sortField: currentSortField,\n            sortDirection: changedSortDirection,\n          });\n\n    return fetchTasks;\n  };\n\n  render() {\n    const { currentSortField, currentSortDirection } = this.props;\n\n    const sortButtonsJSX = sortParams.map(sortParam => {\n      const { sortField, sortDirection } = sortParam;\n      const renderSortDirection =\n        sortField === currentSortField ? currentSortDirection : '';\n\n      return (\n        <Button\n          key={sortField}\n          isOrangeBgColor\n          active={sortField === currentSortField}\n          onClick={() => this.handleFetchSortedTasks(sortField, sortDirection)}\n        >\n          {`Sort by ${sortField} ${renderSortDirection}`}\n        </Button>\n      );\n    });\n\n    return <div style={styles.btnGroup}>{sortButtonsJSX}</div>;\n  }\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  currentPage: state.pager.currentPage,\n  currentSortField: state.sort.sortField,\n  currentSortDirection: state.sort.sortDirection,\n});\n\nexport default connect(\n  mapStateToProps,\n  { fetchSortedTasks }\n)(SortManager);\n"]},"metadata":{},"sourceType":"module"}